.board-tile {
  position: relative;
  width: 100%;
  height: 100%;

  display: flex;
  align-items: center;
  justify-content: center;

  background-color: #f5f7fa;
  border: 1px solid #d0d7e2;
  transition:
    background-color 0.15s ease,
    box-shadow 0.15s ease;
}

.tile-preview {
  box-shadow: inset 0 0 0 3px rgba(255, 215, 0, 0.9);
  background-color: #fff8cc !important;
  animation: pulse 1.2s infinite;
}

.tile-empty {
  background-color: #e9ecefd3;
}

.tile-path {
  background-color: #f8f9fa;
}

.tile-home {
  background-color: color-mix(in srgb, var(--tile-color) 55%, #f4f4f4);
}

.tile-start {
  background-color: color-mix(in srgb, var(--tile-color) 65%, #f4f4f4);
}

.tile-finish {
  background-color: color-mix(in srgb, var(--tile-color) 75%, #f4f4f4);
}

.tile-goal {
  background-color: color-mix(in srgb, var(--tile-color) 85%, #f4f4f4);
}

.tile-safe::after,
.tile-start::after {
  content: "";
  position: absolute;
  inset: 5px;
  border-radius: 6px;
  border: 2px solid rgba(0, 0, 0, 0.18);
  pointer-events: none;
}

.tile-home,
.tile-start,
.tile-finish,
.tile-goal {
  box-shadow:
    inset 0 0 0 1px rgba(0, 0, 0, 0.08),
    inset 0 0 12px rgba(0, 0, 0, 0.04);
}

@media (hover: hover) {
  .board-tile:hover {
    box-shadow: inset 0 0 0 2px rgba(0, 0, 0, 0.12);
  }
}

.tile-debug {
  font-size: 0.55rem;
  color: rgba(0, 0, 0, 0.35);
  pointer-events: none;
  position: absolute;
}

.piece-stack {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
  justify-content: center;
}

.piece {
  width: 1.125rem;
  height: 1.125rem;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
  z-index: 2;
}

.piece.clickable {
  cursor: pointer;
  box-shadow: 0 0 0 2px rgba(229, 255, 0, 0.822);
  transform: scale(1.05);
  animation: pulse 1.2s infinite;
}

.piece.clickable:hover {
  transform: scale(1.2);
}

.piece-red {
  background-color: #ff4d4f;
}
.piece-blue {
  background-color: #1890ff;
}
.piece-green {
  background-color: #52c41a;
}
.piece-yellow {
  background-color: #fadb14;
}

@keyframes pulse {
  0% {
    box-shadow: inset 0 0 0 3px rgba(255, 215, 0, 0.6);
  }

  50% {
    box-shadow: inset 0 0 0 4px rgba(255, 215, 0, 1);
  }

  100% {
    box-shadow: inset 0 0 0 3px rgba(255, 215, 0, 0.6);
  }
}
